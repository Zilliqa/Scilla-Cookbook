<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Decentralised Exchange (DEX) | Scilla Cookbook</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://scilla-cookbook.org/Scilla-Cookbook/recipes/scilla-contract/dex"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Decentralised Exchange (DEX) | Scilla Cookbook"><meta data-react-helmet="true" name="description" content="What is a DEX"><meta data-react-helmet="true" property="og:description" content="What is a DEX"><link data-react-helmet="true" rel="shortcut icon" href="/Scilla-Cookbook/img/site/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://scilla-cookbook.org/Scilla-Cookbook/recipes/scilla-contract/dex"><link data-react-helmet="true" rel="alternate" href="https://scilla-cookbook.org/Scilla-Cookbook/recipes/scilla-contract/dex" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://scilla-cookbook.org/Scilla-Cookbook/recipes/scilla-contract/dex" hreflang="x-default"><link rel="stylesheet" href="/Scilla-Cookbook/assets/css/styles.3db205b2.css">
<link rel="preload" href="/Scilla-Cookbook/assets/js/runtime~main.7008db94.js" as="script">
<link rel="preload" href="/Scilla-Cookbook/assets/js/main.592254e1.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Scilla-Cookbook/"><img src="/Scilla-Cookbook/img/site/scilla-200.png" alt="Community Scilla Cookbook" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/Scilla-Cookbook/img/site/scilla-200.png" alt="Community Scilla Cookbook" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Community Scilla Cookbook</b></a><a href="https://discord.gg/nKznfCaZxy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://t.me/ZilliqaDevs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://scilla.readthedocs.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Scilla Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/Zilliqa/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Zilliqa/Scilla-by-Example" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Community Cookbook Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/Scilla-Cookbook/">Community Scilla Cookbook</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Recipes</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Scilla Contracts</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/addresses">Addresses</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/adt">ADT</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/bnum">BNum</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/bool">Boolean</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/dex">Decentralised Exchange (DEX)</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/folding">Folding</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/funds">Funds</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/fungible">Fungible Token</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/keywords">Glossary of Keywords &amp; Conventions</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/list">List</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/map">Maps</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/messages">Messages, Callbacks &amp; Contract-to-Contract Interaction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/metatransactions">Metatransactions</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/mutisignature">Muti-signature contracts</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/natural">Natural Numbers</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/nonfungible">Non-Fungible Token (NFT)</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/notable-contracts">Notable Contracts</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/option">Option</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/ownership">Ownership</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/pair">Pair</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/remoteread">Remote State Reads (RSR)</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/safemutiply">Safe Mutiplication</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/uint">U/int</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Scilla-Cookbook/recipes/scilla-contract/utilities">Utilities</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Contract Interaction</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Side-dishes</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Decentralised Exchange (DEX)</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="what-is-a-dex"></a>What is a DEX<a class="hash-link" href="#what-is-a-dex" title="Direct link to heading">#</a></h2><p>Decentralized exchanges (DEXES) typically do not use order books to facilitate trades or set prices. Instead, these platforms employ liquidity pool protocols to determine asset pricing.</p><p>Peer-to-peer in nature, these exchanges execute trades between users‚Äô wallets instantly ‚Äî a process some refer to as a swap. The DEXs in this category are ranked in total value locked (TVL), or the value of assets held in the protocol&#x27;s smart contracts.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="what-is-zilswap-dex"></a>What is Zilswap DEX<a class="hash-link" href="#what-is-zilswap-dex" title="Direct link to heading">#</a></h2><p>Zilswap is the most popular DEX on Zilliqa with the most TVL.</p><p>The <a href="https://viewblock.io/zilliqa/address/zil1hgg7k77vpgpwj3av7q7vv5dl4uvunmqqjzpv2w?tab=code" target="_blank" rel="noopener noreferrer">ZilSwap DEX Contract</a> is deployed at the mainnet address <code>zil1hgg7k77vpgpwj3av7q7vv5dl4uvunmqqjzpv2w</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="how-does-it-work"></a>How does it work<a class="hash-link" href="#how-does-it-work" title="Direct link to heading">#</a></h2><p>Pairs (ZIL/Token) act as automated market makers, standing ready to accept one token for the other as long as the ‚Äúconstant product‚Äù formula is preserved.</p><p>This formula, most simply expressed as <code>k = x * y</code>, states that trades must not change the product (k) of a pair‚Äôs reserve balances (x and y).</p><p>This formula particularly desirable feature where it can always provide liquidity, no matter how large the order size nor how tiny the liquidity pool. The forumla increases the price of the coin as the desired swap quantity increases. While larger orders tend to suffer, the DEX never has to worry about running out of liquidity.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="what-is-liquidity"></a>What is Liquidity<a class="hash-link" href="#what-is-liquidity" title="Direct link to heading">#</a></h2><p>Anyone can become a liquidity provider (LP) for a pool by depositing an equivalent value of each underlying token in return for having an entry in the pool state. The deposit is a 50%/50% weighting with a 1000 ZIL minimum (2000 ZIL total value). The state tracks the pro-rata shares of the total reserves, and can be redeemed for the underlying assets at any time.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="zilswap-dex-contract"></a>Zilswap DEX Contract<a class="hash-link" href="#zilswap-dex-contract" title="Direct link to heading">#</a></h2><p>The Zilswap DEX has the following public transitions to faciliate in the swapping of tokens. It allows the swapping of ZIL or tokens with either an equal amount of one side of the trade and a dynamic calculated amount on the other. The DEX allows for adding and removing of liquidity. The DEX has some admin transitions for setting the fee and transfering the ownership.</p><p>These transitions are able to be called across contracts or interacted with through a Zilliqa SDK.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ocaml"><pre tabindex="0" class="prism-code language-ocaml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">transition </span><span class="token module variable" style="color:#36acaa">SetFee</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transition </span><span class="token module variable" style="color:#36acaa">TransferOwnership</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transition </span><span class="token module variable" style="color:#36acaa">AcceptPendingOwnership</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transition </span><span class="token module variable" style="color:#36acaa">AddLiquidity</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transition </span><span class="token module variable" style="color:#36acaa">RemoveLiquidity</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transition </span><span class="token module variable" style="color:#36acaa">SwapExactZILForTokens</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transition </span><span class="token module variable" style="color:#36acaa">SwapExactTokensForZIL</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transition </span><span class="token module variable" style="color:#36acaa">SwapZILForExactTokens</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transition </span><span class="token module variable" style="color:#36acaa">SwapTokensForExactZIL</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transition </span><span class="token module variable" style="color:#36acaa">SwapExactTokensForTokens</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transition </span><span class="token module variable" style="color:#36acaa">SwapTokensForExactTokens</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="further-reading"></a>Further Reading<a class="hash-link" href="#further-reading" title="Direct link to heading">#</a></h2></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_2ga9 padding--none margin-left--sm"><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/Scilla-Cookbook/tags/dex">dex</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/Scilla-Cookbook/tags/decentralised">decentralised</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/Scilla-Cookbook/tags/exchange">exchange</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/Scilla-Cookbook/tags/swap">swap</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Zilliqa/Scilla-Cookbook/docs/recipes/scilla-contract/dex.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Scilla-Cookbook/recipes/scilla-contract/bool"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Boolean</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Scilla-Cookbook/recipes/scilla-contract/folding"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Folding ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-a-dex" class="table-of-contents__link">What is a DEX</a></li><li><a href="#what-is-zilswap-dex" class="table-of-contents__link">What is Zilswap DEX</a></li><li><a href="#how-does-it-work" class="table-of-contents__link">How does it work</a></li><li><a href="#what-is-liquidity" class="table-of-contents__link">What is Liquidity</a></li><li><a href="#zilswap-dex-contract" class="table-of-contents__link">Zilswap DEX Contract</a></li><li><a href="#further-reading" class="table-of-contents__link">Further Reading</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/Scilla-Cookbook/assets/js/runtime~main.7008db94.js"></script>
<script src="/Scilla-Cookbook/assets/js/main.592254e1.js"></script>
</body>
</html>