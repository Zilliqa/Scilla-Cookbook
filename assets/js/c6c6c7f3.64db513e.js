"use strict";(self.webpackChunkdocu_scilla=self.webpackChunkdocu_scilla||[]).push([[8592],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),s=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=s(n),d=a,h=p["".concat(l,".").concat(d)]||p[d]||m[d]||o;return n?r.createElement(h,i(i({ref:t},u),{},{components:n})):r.createElement(h,i({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=p;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var s=2;s<o;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},1208:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return l},metadata:function(){return s},toc:function(){return u},default:function(){return p}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),i=["components"],c={sidebar_position:2},l="Constructor name",s={unversionedId:"tutorials/scilla-tutorials/incrementing-button/constructor",id:"tutorials/scilla-tutorials/incrementing-button/constructor",isDocsHomePage:!1,title:"Constructor name",description:"A contract is declared using the `contract` keyword that starts the scope of the contract.",source:"@site/docs/tutorials/scilla-tutorials/incrementing-button/constructor.md",sourceDirName:"tutorials/scilla-tutorials/incrementing-button",slug:"/tutorials/scilla-tutorials/incrementing-button/constructor",permalink:"/Scilla-Cookbook/tutorials/scilla-tutorials/incrementing-button/constructor",editUrl:"https://github.com/Zilliqa/Scilla-Cookbook/tree/master/docs/tutorials/scilla-tutorials/incrementing-button/constructor.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/Scilla-Cookbook/tutorials/scilla-tutorials/incrementing-button/introduction"},next:{title:"Version headers",permalink:"/Scilla-Cookbook/tutorials/scilla-tutorials/incrementing-button/versionheader"}},u=[{value:"Checking the immutable variables",id:"checking-the-immutable-variables",children:[]}],m={toc:u};function p(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"constructor-name"},"Constructor name"),(0,o.kt)("p",null,"A contract is declared using the ",(0,o.kt)("inlineCode",{parentName:"p"},"contract")," keyword that starts the scope of the contract.\nThe next keyword passed is the contract name. Only one constructor is able to be defined per contract.\nWhen deploying a contract to the network, developers will be asked to define the variables passed into the constructor."),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"A constructor (",(0,o.kt)("strong",{parentName:"p"},"immutable"),") variable cannot be changed after deployment."))),(0,o.kt)("p",null,"This example contract name is defined as ",(0,o.kt)("inlineCode",{parentName:"p"},"IncrementingButton"),". A contract declaration is followed by the declaration of its immutable parameters, the scope of which is defined by ",(0,o.kt)("inlineCode",{parentName:"p"},"()"),"."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"IncrementingButton")," currently does not have any immutable variables defined."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ocaml"},"contract IncrementingButton()\n")),(0,o.kt)("p",null,"We will improve our contract by providing an immutable variable called ",(0,o.kt)("inlineCode",{parentName:"p"},"contract_owner")),(0,o.kt)("p",null,"Each immutable parameter is declared in the following pattern ",(0,o.kt)("inlineCode",{parentName:"p"},"vname: vtype")," where ",(0,o.kt)("inlineCode",{parentName:"p"},"vname")," is the parameter name and ",(0,o.kt)("inlineCode",{parentName:"p"},"vtype")," is the parameter type. Multiple parameters are delimited with a  ",(0,o.kt)("inlineCode",{parentName:"p"},","),"."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"contract_owner")," defines the owner of the contract. There will be transitions defined later that only the ",(0,o.kt)("inlineCode",{parentName:"p"},"contract_owner")," can access."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ocaml",metastring:"{3}","{3}":!0},"contract IncrementingButton\n(\n  contract_owner: ByStr20\n)\n")),(0,o.kt)("p",null,"These initialisation parameters can be viewed publicly from the ",(0,o.kt)("inlineCode",{parentName:"p"},"state")," of the contract."),(0,o.kt)("h3",{id:"checking-the-immutable-variables"},"Checking the immutable variables"),(0,o.kt)("p",null,"It is possible to check that the immutable variables satisfy one or more conditions. For example, let's assume for a moment that our ",(0,o.kt)("inlineCode",{parentName:"p"},"IncrementingButton")," contract has a second immutable variable ",(0,o.kt)("inlineCode",{parentName:"p"},"max_num_clicks: Uint32"),' that limits the number of clicks allowed, and that we want this variable to be positive. In other words, the deployment should fail if the variable is set to 0. This is called a "contract constraint" and is put in a ',(0,o.kt)("inlineCode",{parentName:"p"},"with ... =>")," block right after the definition of the immutable variables. "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ocaml"},"contract IncrementingButton\n(\n  contract_owner: ByStr20,\n  max_num_clicks: Uint32\n)\nwith\n  let zero = Uint32 0 in (* check max_num_clicks > 0 *)\n  uint32_gt max_num_clicks zero\n=> \n")),(0,o.kt)("p",null,"More examples can be found in the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/TheDrBee/oSCILLAtor#initparams"},"oSCILLAtor repo"),' under "InitParams".'),(0,o.kt)("p",null,"We are still missing required fields that stop our contract being compiled correctly. See the next topic about Scilla Versions."))}p.isMDXComponent=!0}}]);